apply plugin: 'groovy'
apply plugin: 'idea'
apply plugin: 'maven'

defaultTasks 'clean', 'build'

repositories {
	mavenCentral()
}

dependencies {
	compile gradleApi()
	groovy localGroovy()
	testCompile("org.spockframework:spock-core:$spockVersion") { exclude group: 'org.codehaus.groovy' }
	testCompile "junit:junit:$junitVersion",
			"org.ajoberstar:gradle-git:$gradleGitVersion"
}

uploadArchives {
  repositories.mavenDeployer {
    snapshotRepository(url: project.'archiva.repo.snapshot') {
      authentication(userName: project.'archiva.credentials.user', password: project.'archiva.credentials.pass')
      snapshots()
    }
    repository(url: project.'archiva.repo.internal') {
      authentication(userName: project.'archiva.credentials.user', password: project.'archiva.credentials.pass')
      releases()
    }
  }
}

